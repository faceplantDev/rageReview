<html>
<head>
    <title>phone book</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <link type="text/css" href="src/styles/styles.css" rel="stylesheet">
</head>
<body>

    <div class="user-book">
        <h1 class="user-book__title">List of names:</h1>

        <div class="user-book-list">
            <div class="user-book-list__item"><span>Александр Иванович</span></div>
            <div class="user-book-list__item"><span>Андрей Викторович</span></div>
            <div class="user-book-list__item"><span>Алексей Борисович</span></div>
            <div class="user-book-list__item"><span>Борис Николаевич</span></div>
            <div class="user-book-list__item"><span>Валентин Иванович</span></div>
            <div class="user-book-list__item"><span>Виктор Олегович</span></div>
            <div class="user-book-list__item"><span>Григорий Ефимович</span></div>
            <div class="user-book-list__item"><span>Георгий Иванович</span></div>
            <div class="user-book-list__item"><span>Дмитрий Анатольевич</span></div>
            <div class="user-book-list__item"><span>Денич Ефимович</span></div>
            <div class="user-book-list__item"><span>Евгений Николаевич</span></div>
            <div class="user-book-list__item"><span>Евдаким Сладкопопкович</span></div>
            <div class="user-book-list__item"><span>Юрий Вахтангович</span></div>
        </div>

        <div class="user-book__desc">Search string:</div>
        <input type="text" class="user-book__search" placeholder="Enter name of user">

    </div>

    <script src="src/javascript/FLOSS.min.js"></script> <!-- подключаем FLOSS библиотеку -->
    <script>

        /* модель книги имен */
        let userBook = {
            name: 'Book of user',
            list: document.querySelectorAll('.user-book-list__item'),
            search: ''
        }

        /* функция обновляющая список в DOM дереве */
        let updateList = (search) => {
            userBook.list.forEach((item, i) => {
                let name = item.querySelector('span');
                let className = name.innerHTML.toLocaleLowerCase().indexOf(search.toLocaleLowerCase()) + 1 ? 'user-book-list__item' : 'user-book-list__item user-book-list__item--close';
                item.className = className;
            });
        }

        /* обработчик изменения состояния свойства search */
        FLOSS({
            name: 'search',
            value: userBook.search,
            bind: userBook,
            action: () => {
                updateList(userBook.search);
            },
            defer: false
        });

        /* событие изменения input */
        let input = document.querySelector('.user-book__search');
        input.oninput = () => {
            userBook.search = input.value;
        }

    </script>

</body>
</html>